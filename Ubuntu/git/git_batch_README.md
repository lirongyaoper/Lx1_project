# Git 批量操作脚本 v2.0 使用说明

## 新版功能介绍

`git_batch.sh` v2.0 是一个增强版的交互式shell脚本，新增了灵活的项目选择功能，可以选择操作特定项目或全部项目。

### 主要新功能
- ✅ 支持选择单个项目进行操作
- ✅ 支持选择多个项目进行操作
- ✅ 支持范围选择（如：1-5）
- ✅ 支持混合选择（如：1-3 5 7-9）
- ✅ 全新的交互式界面
- ✅ 更友好的操作提示
- ✅ Clone操作前的覆盖确认

## 支持的项目列表

脚本支持以下项目的批量操作：
1. Py1_project
2. Py2_project
3. Php1_project
4. Lx1_project
5. C1_Project
6. lryper.com
7. test.com
8. webconf
9. cs.com
10. lryblog.com
11. pytool
12. qd.com
13. source
14. temp.com
15. progress

## 使用方法

### 1. 运行脚本
```bash
./git_batch.sh
```

### 2. 选择操作类型
```
╔══════════════════════════════════╗
║     Git 批量操作管理脚本 v2.0    ║
╚══════════════════════════════════╝

请选择要执行的操作：

1) Push  (推送到远程仓库)
2) Pull  (从远程仓库拉取)
3) Clone (克隆远程仓库)
4) 退出

请输入选项 [1-4]: 
```

### 3. 选择项目

脚本会显示项目列表，您可以使用多种方式选择：

```
选择要执行 push 操作的项目：

0) [全选所有项目]

1) Py1_project
2) Py2_project
3) Php1_project
...

说明：
  - 输入 0 选择所有项目
  - 输入单个数字选择一个项目 (如: 5)
  - 输入多个数字选择多个项目，用空格分隔 (如: 1 3 5 7)
  - 输入数字范围选择连续项目 (如: 1-5)
  - 混合使用 (如: 1-3 5 7-9)
  - 输入 q 返回上级菜单

请输入您的选择: 
```

### 4. 确认执行
脚本会显示您选择的项目列表，并请求确认：
```
将要执行 push 操作的项目：

1. Py1_project
2. Py2_project
3. lryblog.com

共 3 个项目

确认执行以上项目的 push 操作吗？[y/n]: 
```

## 选择示例

### 示例1：选择单个项目
```
请输入您的选择: 5
```
只操作第5个项目（C1_Project）

### 示例2：选择多个项目
```
请输入您的选择: 1 3 5 10
```
操作第1、3、5、10个项目

### 示例3：选择连续范围
```
请输入您的选择: 1-5
```
操作第1到第5个项目

### 示例4：混合选择
```
请输入您的选择: 1-3 5 7-10
```
操作第1到第3个项目，第5个项目，以及第7到第10个项目

### 示例5：选择全部
```
请输入您的选择: 0
```
操作所有项目

## 操作说明

### Push 操作
- 进入每个选定的项目目录
- 执行 `git add .`
- 执行 `git commit -m "update data at 时间戳"`
- 执行 `git push`

### Pull 操作
- 进入每个选定的项目目录
- 执行 `git pull`

### Clone 操作
- 如果项目目录已存在，会询问是否覆盖
- 如果选择覆盖，会先删除原目录（需要sudo权限）
- 执行 `git clone` 克隆对应的仓库

## 执行结果

脚本执行完成后会显示详细的统计信息：
```
════════════════════════════════════
         执行结果统计
════════════════════════════════════
✓ 成功: 3 个项目
✗ 失败: 1 个项目

失败的项目列表：
  - test.com
```

## 注意事项

1. **权限要求**：脚本需要在 `/home/lirongyao0916/Projects/` 目录下有相应的读写权限
2. **Git配置**：确保已配置好Git的SSH密钥，以便能够正常访问GitHub仓库
3. **Clone覆盖**：Clone操作时如果目录已存在，会询问是否覆盖，选择覆盖需要sudo权限
4. **序贯执行**：脚本会等待每个命令完成后再执行下一个，整个过程可能需要一些时间
5. **目录检查**：对于Push和Pull操作，脚本会检查目录是否存在，不存在的目录会标记为失败

## 快捷使用

创建全局快捷方式：
```bash
sudo ln -s /home/lirongyao0916/Projects/lryblog.com/git_batch.sh /usr/local/bin/git-batch
```

之后可以在任何地方使用：
```bash
git-batch
```

## 版本历史

### v2.0 (当前版本)
- 新增项目选择功能
- 支持单选、多选、范围选择
- 改进用户界面
- 添加Clone覆盖确认
- 优化错误处理

### v1.0
- 基础批量操作功能
- 支持Push、Pull、Clone
- 简单的全部执行模式